#!/bin/sh -u

[ "$#" -eq 0 ] && exit 1

. /usr/local/subr/download.subr

OUTPUT=''
extract()
{
	curl_command "$1" | grep -o 'class="YrbPuc">[^<]\+' | sed -e 's/[^>]*>//' -e 's/&#183;/./g'
}

if [ "$#" -eq 1 ]; then

	OUTPUT="$(extract "https://google.com/search?q=${1}+significado")"
	[ -z "$OUTPUT" ] && OUTPUT='[ERROR]'
	exec printf '%s: %s\n' "$1" "$OUTPUT"

else

	for word in "$@"; do

		OUTPUT="$(extract "https://google.com/search?q=${word}+significado")"
		[ -z "$OUTPUT" ] && OUTPUT='[ERROR]'
		printf '%s: %s\n' "$word" "$OUTPUT"

	done

fi
